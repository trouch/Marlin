# 
# TR-300 (Ender-3)
# Common build settings
# THERMAL_PROTECTION_HOTENDS
# THERMAL_PROTECTION_BED
# PREVENT_COLD_EXTRUSION
# PIDTEMP
# PIDTEMPBED
#
[tr300]
platform        = ${env:melzi.platform}
framework       = ${env:melzi.framework}
board           = ${env:melzi.board}
build_flags     = ${env:melzi.build_flags}
                  -DMACHINE_TYPE_TR300 -DCUSTOM_STATUS_SCREEN_IMAGE
                  -DMOTHERBOARD=BOARD_MELZI_CREALITY 
                  ${feature.host}
lib_deps        = ${env:melzi.lib_deps}
lib_ignore      = ${env:melzi.lib_ignore}
                  Adafruit NeoPixel
                  SailfishLCD
                  SailfishRGB_LED
src_filter      = ${env:melzi.src_filter}
build_type      = release
# 
# 99.6%
# 
[env:tr300_noabl]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.std} ${feature.sdconfirm} ${feature.scurve} ${feature.lin_advance} ${feature.fil_change} ${feature.user_menus}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 99.2% 
#
[env:tr300_bltouch_sd]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.std} ${abl.bltouch} ${feature.sdconfirm}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 99.8%
# 
[env:tr300_bltouch_nosd]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.adv} ${abl.bltouch} ${feature.scurve} ${feature.lin_advance} ${feature.fil_change}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 96.5%
# 
[env:tr300_touchmi_sd]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.std} ${abl.touchmi} ${feature.sdconfirm}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 98.0%
# 
[env:tr300_touchmi_nosd]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.adv} ${abl.touchmi} ${feature.scurve} ${feature.lin_advance} ${feature.fil_change} ${feature.user_menus}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 99.6%
# 
[env:tr300_noabl_bmg]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.std} ${feature.sdconfirm} ${feature.scurve} ${feature.lin_advance} ${feature.fil_change} ${feature.user_menus} ${extruder.bmg}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 99.2% 
#
[env:tr300_bltouch_sd_bmg]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.std} ${abl.bltouch} ${feature.sdconfirm} ${extruder.bmg}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 99.8%
# 
[env:tr300_bltouch_nosd_bmg]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.adv} ${abl.bltouch} ${feature.scurve} ${feature.lin_advance} ${feature.fil_change} ${extruder.bmg}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 96.5%
# 
[env:tr300_touchmi_sd_bmg]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.std} ${abl.touchmi} ${feature.sdconfirm} ${extruder.bmg}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

# 
# 98.0%
# 
[env:tr300_touchmi_nosd_bmg]
platform        = ${tr300.platform}
framework       = ${tr300.framework}
board           = ${tr300.board}
build_flags     = ${tr300.build_flags} ${eeprom.adv} ${abl.touchmi} ${feature.scurve} ${feature.lin_advance} ${feature.fil_change} ${feature.user_menus} ${extruder.bmg}
lib_deps        = ${tr300.lib_deps}
lib_ignore      = ${tr300.lib_ignore}
src_filter      = ${tr300.src_filter}
build_type      = ${tr300.build_type}

